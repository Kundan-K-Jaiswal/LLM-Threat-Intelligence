<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Misuse Detection Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --dark-color: #212529;
            --light-color: #f8f9fa;
            --sidebar-width: 250px;
            --sidebar-collapsed-width: 70px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fb;
            overflow-x: hidden;
        }

        /* Login Page Styles */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .login-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            padding: 40px;
            width: 100%;
            max-width: 400px;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-logo i {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        /* Main Layout */
        #mainApp {
            display: none;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: #1e293b;
            color: white;
            transition: all 0.3s;
            position: fixed;
            height: 100vh;
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #334155;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-header h3 {
            font-size: 1.2rem;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
        }

        .sidebar.collapsed .sidebar-header h3 {
            display: none;
        }

        .sidebar-menu {
            padding: 10px 0;
        }

        .sidebar-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li {
            margin: 5px 0;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: #cbd5e1;
            text-decoration: none;
            transition: all 0.2s;
            white-space: nowrap;
            overflow: hidden;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background: #334155;
            color: white;
        }

        .sidebar-menu i {
            width: 24px;
            margin-right: 12px;
            text-align: center;
        }

        .sidebar.collapsed .sidebar-menu span {
            display: none;
        }

        .sidebar.collapsed .sidebar-menu i {
            margin-right: 0;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            transition: margin-left 0.3s;
        }

        .main-content.expanded {
            margin-left: var(--sidebar-collapsed-width);
        }

        .top-navbar {
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 999;
        }

        .toggle-sidebar {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: #64748b;
            cursor: pointer;
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-info .dropdown-toggle {
            background: none;
            border: none;
            color: #334155;
            display: flex;
            align-items: center;
        }

        .user-info .dropdown-toggle::after {
            margin-left: 8px;
        }

        /* Content Area */
        .content-area {
            padding: 20px;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Dashboard Cards */
        .dashboard-card {
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            margin-bottom: 20px;
            border: none;
            height: 100%;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
        }

        .stat-card {
            text-align: center;
            padding: 20px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
        }

        .threat-level-high {
            border-left: 5px solid var(--danger-color);
        }

        .threat-level-medium {
            border-left: 5px solid var(--warning-color);
        }

        .threat-level-low {
            border-left: 5px solid var(--success-color);
        }

        /* Detection Results */
        .detection-result {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .ai-detected {
            background-color: rgba(220, 53, 69, 0.1);
            border: 1px solid rgba(220, 53, 69, 0.3);
        }

        .human-detected {
            background-color: rgba(25, 135, 84, 0.1);
            border: 1px solid rgba(25, 135, 84, 0.3);
        }

        .mixed-detected {
            background-color: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
        }

        /* Heatmap */
        .heatmap-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            margin: 15px 0;
        }

        .heatmap-day {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .heatmap-hour {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            background: #ebedf0;
        }

        .heatmap-0 {
            background-color: #ebedf0;
        }

        .heatmap-1 {
            background-color: #c6e48b;
        }

        .heatmap-2 {
            background-color: #7bc96f;
        }

        .heatmap-3 {
            background-color: #239a3b;
        }

        .heatmap-4 {
            background-color: #196127;
        }

        /* Network Graph */
        .network-graph {
            width: 100%;
            height: 400px;
            background: #f8f9fa;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        .node {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: steelblue;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .node.core {
            width: 16px;
            height: 16px;
            background: #dc3545;
        }

        .node.major {
            width: 14px;
            height: 14px;
            background: #fd7e14;
        }

        .connection {
            position: absolute;
            height: 2px;
            background: #999;
            transform-origin: 0 0;
        }

        /* Feature Indicators */
        .feature-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feature-bar {
            height: 8px;
            border-radius: 4px;
            margin: 0 10px;
            flex-grow: 1;
            background-color: #e9ecef;
            overflow: hidden;
        }

        .feature-fill {
            height: 100%;
            transition: width 0.5s ease;
        }

        .feature-value {
            width: 50px;
            text-align: right;
            font-weight: 600;
        }

        /* Typing Indicator */
        .typing-indicator {
            display: none;
            text-align: center;
            padding: 10px;
        }

        .typing-dots {
            display: inline-block;
        }

        .typing-dots span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #6c757d;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out both;
        }

        .typing-dots span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }

        /* Confidence Meter */
        .confidence-meter {
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
            background-color: #e9ecef;
        }

        .confidence-fill {
            height: 100%;
            transition: width 0.5s ease;
        }

        /* Model Probabilities */
        .model-probability {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .model-name {
            width: 120px;
        }

        .model-bar {
            height: 12px;
            border-radius: 6px;
            margin: 0 10px;
            flex-grow: 1;
            background-color: #e9ecef;
            overflow: hidden;
        }

        .model-fill {
            height: 100%;
            transition: width 0.5s ease;
        }

        .model-percent {
            width: 50px;
            text-align: right;
            font-weight: 600;
        }

        /* Pulse Animation */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Detailed Analysis */
        .detailed-analysis-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .analysis-section {
            margin-bottom: 20px;
        }

        .feature-item {
            border-bottom: 1px solid #e9ecef;
            padding: 8px 0;
        }

        /* Mobile Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: var(--sidebar-collapsed-width);
            }
            
            .sidebar-header h3 {
                display: none;
            }
            
            .sidebar-menu span {
                display: none;
            }
            
            .sidebar-menu i {
                margin-right: 0;
            }
            
            .main-content {
                margin-left: var(--sidebar-collapsed-width);
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .top-navbar {
                padding: 10px 15px;
            }
            
            .content-area {
                padding: 15px;
            }
            
            .dashboard-card {
                margin-bottom: 15px;
            }
            
            .stat-card {
                padding: 15px;
            }
            
            .stat-number {
                font-size: 1.8rem;
            }
            
            .heatmap-container {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .network-graph {
                height: 300px;
            }
        }

        @media (max-width: 576px) {
            .login-card {
                padding: 30px 20px;
                margin: 20px;
            }
            
            .content-area {
                padding: 10px;
            }
            
            .heatmap-container {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .model-name {
                width: 80px;
            }
            
            .feature-value {
                width: 40px;
            }
        }
    </style>
</head>

<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <div class="login-logo">
                <i class="fas fa-shield-alt"></i>
                <h3>LLM Threat Intelligence</h3>
                <p class="text-muted">Secure Access Portal</p>
            </div>
            <form id="loginForm">
                <div class="mb-3">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Enter your username" required>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Enter your password" required>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="rememberMe">
                    <label class="form-check-label" for="rememberMe">Remember me</label>
                </div>
                <button type="submit" class="btn btn-primary w-100">
                    <i class="fas fa-sign-in-alt me-2"></i>Sign In
                </button>
                <div class="mt-3 text-center">
                    <small class="text-muted">Demo credentials: admin / password</small>
                </div>
            </form>
        </div>
    </div>

    <!-- Main Application (Hidden until login) -->
    <div id="mainApp" style="display: none;">
        <div class="app-container">
            <!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-shield-alt me-2"></i>LLM Threat Intel</h3>
                </div>
                <div class="sidebar-menu">
                    <ul>
                        <li>
                            <a href="#dashboard" class="nav-link active" data-section="dashboard">
                                <i class="fas fa-chart-line"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li>
                            <a href="#detection" class="nav-link" data-section="detection">
                                <i class="fas fa-search"></i>
                                <span>Content Detection</span>
                            </a>
                        </li>
                        <li>
                            <a href="#intelligence" class="nav-link" data-section="intelligence">
                                <i class="fas fa-brain"></i>
                                <span>Threat Intelligence</span>
                            </a>
                        </li>
                        <li>
                            <a href="#sharing" class="nav-link" data-section="sharing">
                                <i class="fas fa-share-alt"></i>
                                <span>Cross-Border Sharing</span>
                            </a>
                        </li>
                        <li>
                            <a href="#policy" class="nav-link" data-section="policy">
                                <i class="fas fa-gavel"></i>
                                <span>Policy Framework</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content" id="mainContent">
                <!-- Top Navbar -->
                <div class="top-navbar">
                    <button class="toggle-sidebar" id="toggleSidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="user-info">
                        <div class="dropdown">
                            <button class="dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown">
                                <i class="fas fa-user-circle me-2"></i>
                                <span id="userDisplay">Admin</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Settings</a></li>
                                <li><a class="dropdown-item" href="#"><i class="fas fa-question-circle me-2"></i>Help</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Content Area -->
                <div class="content-area">
                    <!-- Dashboard -->
                    <div id="dashboard" class="content-section active">
                        <h2 class="mb-4">Threat Intelligence Dashboard <span class="badge bg-danger pulse">LIVE</span></h2>

                        <!-- Stats Row -->
                        <div class="row">
                            <div class="col-xl-3 col-md-6">
                                <div class="card dashboard-card threat-level-high">
                                    <div class="card-body stat-card">
                                        <h5 class="card-title">AI-Generated Threats</h5>
                                        <div class="stat-number text-danger" id="threatCount">1,247</div>
                                        <p class="card-text">Detected in last 24 hours</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6">
                                <div class="card dashboard-card threat-level-medium">
                                    <div class="card-body stat-card">
                                        <h5 class="card-title">Disinformation Campaigns</h5>
                                        <div class="stat-number text-warning" id="campaignCount">42</div>
                                        <p class="card-text">Active campaigns</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6">
                                <div class="card dashboard-card threat-level-low">
                                    <div class="card-body stat-card">
                                        <h5 class="card-title">Attribution Success</h5>
                                        <div class="stat-number text-success" id="attributionRate">78%</div>
                                        <p class="card-text">Of malicious content</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6">
                                <div class="card dashboard-card">
                                    <div class="card-body stat-card">
                                        <h5 class="card-title">Response Time</h5>
                                        <div class="stat-number text-primary" id="responseTime">3.2s</div>
                                        <p class="card-text">Average detection</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row -->
                        <div class="row mt-4">
                            <div class="col-lg-8">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Threat Activity Timeline</h5>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="threatTimelineChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Content Type Distribution</h5>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="contentTypeChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Threats -->
                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="card dashboard-card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="card-title mb-0">Recent High-Priority Threats</h5>
                                        <span class="badge bg-danger">Live</span>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Time</th>
                                                        <th>Content Type</th>
                                                        <th>Threat Level</th>
                                                        <th>Platform</th>
                                                        <th>Attribution</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="recentThreats">
                                                    <tr>
                                                        <td>14:32:05</td>
                                                        <td>Phishing Email</td>
                                                        <td><span class="badge bg-danger">High</span></td>
                                                        <td>Email Server</td>
                                                        <td>APT Group 4127</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Analyze</button>
                                                            <button class="btn btn-sm btn-outline-danger">Block</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:28:41</td>
                                                        <td>Disinformation</td>
                                                        <td><span class="badge bg-warning">Medium</span></td>
                                                        <td>Social Media</td>
                                                        <td>State Actor</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Analyze</button>
                                                            <button class="btn btn-sm btn-outline-warning">Monitor</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:25:12</td>
                                                        <td>Propaganda</td>
                                                        <td><span class="badge bg-danger">High</span></td>
                                                        <td>Forum</td>
                                                        <td>Extremist Group</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Analyze</button>
                                                            <button class="btn btn-sm btn-outline-danger">Block</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:19:33</td>
                                                        <td>Influence Op</td>
                                                        <td><span class="badge bg-warning">Medium</span></td>
                                                        <td>News Site</td>
                                                        <td>Unknown</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Analyze</button>
                                                            <button class="btn btn-sm btn-outline-warning">Monitor</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Content Detection -->
                    <div id="detection" class="content-section">
                        <h2 class="mb-4">Real-Time AI Content Detection</h2>

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Content Analysis</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label for="contentInput" class="form-label">Enter text to analyze:</label>
                                            <textarea class="form-control" id="contentInput" rows="8"
                                                placeholder="Start typing or paste content here for real-time AI detection analysis...">In recent developments, we've seen significant changes in global economic policies that affect international markets. The strategic shifts in monetary policy by central banks worldwide have created both opportunities and challenges for investors. Experts suggest that diversifying portfolios and focusing on long-term growth sectors remains the most prudent approach in these uncertain times.</textarea>
                                            <div class="form-text">Analysis begins automatically as you type. Minimum 50 characters recommended for accurate detection.</div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="contentSource" class="form-label">Content Source (optional):</label>
                                            <input type="text" class="form-control" id="contentSource"
                                                placeholder="URL, platform, or source identifier">
                                        </div>
                                        <div class="typing-indicator" id="typingIndicator">
                                            <div class="typing-dots">
                                                <span></span>
                                                <span></span>
                                                <span></span>
                                            </div>
                                            <span class="ms-2">Analyzing text patterns...</span>
                                        </div>
                                        <button class="btn btn-primary" id="analyzeContent">
                                            <i class="fas fa-search me-2"></i>Analyze Content
                                        </button>
                                        <button class="btn btn-outline-secondary" id="clearContent">
                                            <i class="fas fa-eraser me-2"></i>Clear
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Detection Results</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="detectionResults">
                                            <p class="text-muted">Analysis results will appear here as you type.</p>
                                        </div>

                                        <div class="mt-4">
                                            <h6>Overall Confidence</h6>
                                            <div class="confidence-meter">
                                                <div id="confidenceFill" class="confidence-fill bg-success" style="width: 0%"></div>
                                            </div>
                                            <div class="d-flex justify-content-between">
                                                <small>Human Written</small>
                                                <small id="confidencePercent">0%</small>
                                                <small>AI Generated</small>
                                            </div>

                                            <h6 class="mt-4">Model Probability Analysis</h6>
                                            <div id="modelProbabilities">
                                                <p class="text-muted">Model probabilities will appear here.</p>
                                            </div>

                                            <h6 class="mt-4">Detailed Analysis</h6>
                                            <div id="detailedAnalysis">
                                                <p class="text-muted">Detailed forensic analysis will be displayed here.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Linguistic Feature Analysis</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="featureAnalysis">
                                            <p class="text-muted">Feature analysis will appear here.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Detection Metrics</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row text-center">
                                            <div class="col-6 col-sm-3">
                                                <h4>94.2%</h4>
                                                <p class="text-muted">Accuracy</p>
                                            </div>
                                            <div class="col-6 col-sm-3">
                                                <h4>92.7%</h4>
                                                <p class="text-muted">Precision</p>
                                            </div>
                                            <div class="col-6 col-sm-3">
                                                <h4>95.1%</h4>
                                                <p class="text-muted">Recall</p>
                                            </div>
                                            <div class="col-6 col-sm-3">
                                                <h4>1.2%</h4>
                                                <p class="text-muted">False Positive Rate</p>
                                            </div>
                                        </div>
                                        <div class="mt-3">
                                            <canvas id="metricsChart" height="150"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Threat Intelligence -->
                    <div id="intelligence" class="content-section">
                        <h2 class="mb-4">Threat Intelligence & Attribution</h2>

                        <div class="row">
                            <div class="col-lg-8">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Disinformation Network Map</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="networkGraph" class="network-graph">
                                            <!-- Network visualization will be generated here -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Attribution Analysis</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <h6>Model Fingerprinting</h6>
                                            <div class="mb-2">
                                                <span class="badge bg-primary">GPT-4</span>
                                                <span class="badge bg-info">Claude</span>
                                                <span class="badge bg-warning">Gemini</span>
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <h6>Stylometric Match</h6>
                                            <div class="progress mb-2" style="height: 20px;">
                                                <div class="progress-bar bg-info" role="progressbar" style="width: 87%;"
                                                    aria-valuenow="87" aria-valuemin="0" aria-valuemax="100">87%</div>
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <h6>Watermark Detection</h6>
                                            <span class="badge bg-success">Detected</span>
                                            <small class="text-muted d-block">OpenAI API Signature</small>
                                        </div>

                                        <div class="mb-3">
                                            <h6>Threat Actor Profile</h6>
                                            <div class="card bg-light">
                                                <div class="card-body py-2">
                                                    <strong>APT Group 4127</strong>
                                                    <p class="mb-0 small">State-sponsored cyber unit specializing in influence operations</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Propagation Heatmap</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="heatmap" class="text-center">
                                            <div class="heatmap-container" id="heatmapContainer">
                                                <!-- Heatmap will be generated here -->
                                            </div>
                                            <div class="mt-3">
                                                <small class="text-muted">Activity intensity over the past week (24-hour cycles)</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Campaign Correlation</h5>
                                    </div>
                                    <div class="card-body">
                                        <canvas id="campaignChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cross-Border Sharing -->
                    <div id="sharing" class="content-section">
                        <h2 class="mb-4">Cross-Border Intelligence Sharing</h2>

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Allied Nations Network</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>United States</span>
                                                <span class="badge bg-success">Active</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>United Kingdom</span>
                                                <span class="badge bg-success">Active</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Canada</span>
                                                <span class="badge bg-success">Active</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Australia</span>
                                                <span class="badge bg-warning">Limited</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Germany</span>
                                                <span class="badge bg-success">Active</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Japan</span>
                                                <span class="badge bg-success">Active</span>
                                            </div>
                                        </div>

                                        <div class="alert alert-info">
                                            <small>
                                                <i class="fas fa-info-circle me-2"></i>
                                                Federated learning ensures privacy while enabling collaborative model improvement.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Intelligence Sharing Log</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Time</th>
                                                        <th>Partner</th>
                                                        <th>Threat ID</th>
                                                        <th>Type</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>14:30:22</td>
                                                        <td>UK-CyberCommand</td>
                                                        <td>#THR-8842</td>
                                                        <td><span class="badge bg-danger">Campaign</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:25:17</td>
                                                        <td>CAN-CSE</td>
                                                        <td>#THR-8839</td>
                                                        <td><span class="badge bg-warning">Actor</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:18:05</td>
                                                        <td>DEU-BSI</td>
                                                        <td>#THR-8835</td>
                                                        <td><span class="badge bg-danger">Campaign</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:12:41</td>
                                                        <td>UK-CyberCommand</td>
                                                        <td>#THR-8831</td>
                                                        <td><span class="badge bg-info">Pattern</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td>14:05:29</td>
                                                        <td>JPN-NISC</td>
                                                        <td>#THR-8827</td>
                                                        <td><span class="badge bg-warning">Actor</span></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                        <button class="btn btn-outline-primary btn-sm">
                                            <i class="fas fa-sync-alt me-1"></i>Sync Intelligence
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Blockchain Audit Trail</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="alert alert-success">
                                            <i class="fas fa-check-circle me-2"></i>
                                            All intelligence sharing transactions are recorded on permissioned blockchain with cryptographic integrity verification.
                                        </div>

                                        <div class="row text-center">
                                            <div class="col-md-3">
                                                <h5>1,428</h5>
                                                <p class="text-muted">Shared Indicators</p>
                                            </div>
                                            <div class="col-md-3">
                                                <h5>0</h5>
                                                <p class="text-muted">Tamper Events</p>
                                            </div>
                                            <div class="col-md-3">
                                                <h5>24</h5>
                                                <p class="text-muted">Participating Agencies</p>
                                            </div>
                                            <div class="col-md-3">
                                                <h5>99.97%</h5>
                                                <p class="text-muted">Uptime</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Policy Framework -->
                    <div id="policy" class="content-section">
                        <h2 class="mb-4">Policy Framework & Governance</h2>

                        <div class="row">
                            <div class="col-lg-4">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Vendor Compliance</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <h6>LLM Provider Status</h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>OpenAI</span>
                                                <span class="badge bg-success">Compliant</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Anthropic</span>
                                                <span class="badge bg-success">Compliant</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Google</span>
                                                <span class="badge bg-warning">Review</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Meta</span>
                                                <span class="badge bg-danger">Non-Compliant</span>
                                            </div>
                                        </div>

                                        <button class="btn btn-outline-primary btn-sm w-100">
                                            <i class="fas fa-tasks me-1"></i>Run Compliance Check
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Red Team Exercises</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <h6>Last Exercise: 2023-10-15</h6>
                                            <div class="progress mb-2" style="height: 20px;">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: 92%;"
                                                    aria-valuenow="92" aria-valuemin="0" aria-valuemax="100">92%</div>
                                            </div>
                                            <small class="text-muted">Detection effectiveness against simulated attacks</small>
                                        </div>

                                        <div class="mb-3">
                                            <h6>Vulnerabilities Identified</h6>
                                            <span class="badge bg-danger me-1">12 Critical</span>
                                            <span class="badge bg-warning me-1">7 Medium</span>
                                            <span class="badge bg-info">3 Low</span>
                                        </div>

                                        <button class="btn btn-outline-warning btn-sm w-100">
                                            <i class="fas fa-bug me-1"></i>Schedule Next Exercise
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Privacy & Compliance</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <h6>Data Protection Status</h6>
                                            <span class="badge bg-success me-2">GDPR Compliant</span>
                                            <span class="badge bg-success me-2">CCPA Ready</span>
                                            <span class="badge bg-info">Federated Learning</span>
                                        </div>

                                        <div class="mb-3">
                                            <h6>Transparency Reports</h6>
                                            <div class="list-group">
                                                <a href="#" class="list-group-item list-group-item-action py-2">
                                                    <i class="fas fa-file-pdf me-2 text-danger"></i>Q3 2023 Transparency Report
                                                </a>
                                                <a href="#" class="list-group-item list-group-item-action py-2">
                                                    <i class="fas fa-file-pdf me-2 text-danger"></i>Privacy Impact Assessment
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="card dashboard-card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Governance Dashboard</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <h6>Oversight Committee</h6>
                                                <ul class="list-group">
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        National Security Representative
                                                        <span class="badge bg-primary rounded-pill">Active</span>
                                                    </li>
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        Privacy Advocate
                                                        <span class="badge bg-primary rounded-pill">Active</span>
                                                    </li>
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        Civil Liberties Expert
                                                        <span class="badge bg-warning rounded-pill">Pending</span>
                                                    </li>
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        Technical Ethics Board
                                                        <span class="badge bg-primary rounded-pill">Active</span>
                                                    </li>
                                                </ul>
                                            </div>

                                            <div class="col-lg-6">
                                                <h6>Policy Compliance Metrics</h6>
                                                <div class="mb-3">
                                                    <small>Responsible AI Guidelines</small>
                                                    <div class="progress mb-2" style="height: 15px;">
                                                        <div class="progress-bar bg-success" role="progressbar" style="width: 95%;"
                                                            aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <small>Vendor Security Requirements</small>
                                                    <div class="progress mb-2" style="height: 15px;">
                                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 78%;"
                                                            aria-valuenow="78" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <small>International Cooperation Standards</small>
                                                    <div class="progress mb-2" style="height: 15px;">
                                                        <div class="progress-bar bg-success" role="progressbar" style="width: 88%;"
                                                            aria-valuenow="88" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <small>Public Transparency</small>
                                                    <div class="progress mb-2" style="height: 15px;">
                                                        <div class="progress-bar bg-info" role="progressbar" style="width: 65%;"
                                                            aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Login Functionality
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Simple demo authentication
            if (username === 'admin' && password === 'password') {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
                document.getElementById('userDisplay').textContent = username;
                
                // Initialize all features after login
                initializeDashboard();
                initializeNetworkGraph();
                initializeHeatmap();
                initializeContentDetection();
                initializeNavigation();
                initializeSidebar();
            } else {
                alert('Invalid credentials! Use admin/password');
            }
        });

        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function() {
            document.getElementById('mainApp').style.display = 'none';
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('loginForm').reset();
            // Clear any intervals
            if (updateInterval) {
                clearInterval(updateInterval);
            }
        });

        // Sidebar functionality
        function initializeSidebar() {
            const toggleSidebar = document.getElementById('toggleSidebar');
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            toggleSidebar.addEventListener('click', function() {
                sidebar.classList.toggle('collapsed');
                mainContent.classList.toggle('expanded');
                
                // For mobile, toggle the sidebar open/closed
                if (window.innerWidth <= 768) {
                    sidebar.classList.toggle('mobile-open');
                }
            });
            
            // Close sidebar when clicking on a link on mobile
            if (window.innerWidth <= 768) {
                document.querySelectorAll('.sidebar-menu a').forEach(link => {
                    link.addEventListener('click', function() {
                        sidebar.classList.remove('mobile-open');
                    });
                });
            }
        }

        // Navigation functionality
        function initializeNavigation() {
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    document.querySelectorAll('.sidebar-menu a').forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Hide all content sections
                    document.querySelectorAll('.content-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Show the selected content section
                    const targetSection = this.getAttribute('data-section');
                    document.getElementById(targetSection).classList.add('active');
                });
            });
        }

        // Dashboard initialization
        function initializeDashboard() {
            // Initialize charts
            const threatTimelineCtx = document.getElementById('threatTimelineChart').getContext('2d');
            const threatTimelineChart = new Chart(threatTimelineCtx, {
                type: 'line',
                data: {
                    labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
                    datasets: [{
                        label: 'AI Threats',
                        data: [12, 19, 15, 25, 22, 30],
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Disinformation',
                        data: [5, 8, 12, 15, 10, 18],
                        borderColor: '#fd7e14',
                        backgroundColor: 'rgba(253, 126, 20, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Threat Count'
                            }
                        }
                    }
                }
            });

            const contentTypeCtx = document.getElementById('contentTypeChart').getContext('2d');
            const contentTypeChart = new Chart(contentTypeCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Propaganda', 'Phishing', 'Disinformation', 'Influence Ops', 'Other'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#dc3545',
                            '#fd7e14',
                            '#ffc107',
                            '#0dcaf0',
                            '#6c757d'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        }
                    }
                }
            });

            // Update stats periodically
            let threatCount = 1247;
            let campaignCount = 42;
            let attributionRate = 78;
            let responseTime = 3.2;
            
            updateInterval = setInterval(() => {
                // Simulate data updates
                threatCount += Math.floor(Math.random() * 5);
                campaignCount += Math.floor(Math.random() * 2);
                attributionRate = Math.min(95, attributionRate + (Math.random() - 0.5));
                responseTime = Math.max(1.5, responseTime + (Math.random() - 0.5) * 0.2);
                
                document.getElementById('threatCount').textContent = threatCount.toLocaleString();
                document.getElementById('campaignCount').textContent = campaignCount;
                document.getElementById('attributionRate').textContent = attributionRate.toFixed(0) + '%';
                document.getElementById('responseTime').textContent = responseTime.toFixed(1) + 's';
                
                // Update chart data
                threatTimelineChart.data.datasets[0].data = threatTimelineChart.data.datasets[0].data.map(() => 
                    Math.floor(Math.random() * 30) + 10
                );
                threatTimelineChart.data.datasets[1].data = threatTimelineChart.data.datasets[1].data.map(() => 
                    Math.floor(Math.random() * 20) + 5
                );
                threatTimelineChart.update();
                
                // Add a new threat to the table occasionally
                if (Math.random() > 0.7) {
                    const threats = document.getElementById('recentThreats');
                    const newRow = document.createElement('tr');
                    const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'});
                    const types = ['Phishing Email', 'Disinformation', 'Propaganda', 'Influence Op'];
                    const levels = ['High', 'Medium', 'Low'];
                    const platforms = ['Email Server', 'Social Media', 'Forum', 'News Site'];
                    const attributions = ['APT Group 4127', 'State Actor', 'Extremist Group', 'Unknown'];
                    
                    const type = types[Math.floor(Math.random() * types.length)];
                    const level = levels[Math.floor(Math.random() * levels.length)];
                    const platform = platforms[Math.floor(Math.random() * platforms.length)];
                    const attribution = attributions[Math.floor(Math.random() * attributions.length)];
                    
                    let badgeClass = 'bg-secondary';
                    if (level === 'High') badgeClass = 'bg-danger';
                    if (level === 'Medium') badgeClass = 'bg-warning';
                    if (level === 'Low') badgeClass = 'bg-success';
                    
                    newRow.innerHTML = `
                        <td>${time}</td>
                        <td>${type}</td>
                        <td><span class="badge ${badgeClass}">${level}</span></td>
                        <td>${platform}</td>
                        <td>${attribution}</td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary">Analyze</button>
                            <button class="btn btn-sm btn-outline-${level === 'High' ? 'danger' : 'warning'}">${level === 'High' ? 'Block' : 'Monitor'}</button>
                        </td>
                    `;
                    
                    threats.insertBefore(newRow, threats.firstChild);
                    
                    // Remove the last row if there are more than 4
                    if (threats.children.length > 4) {
                        threats.removeChild(threats.lastChild);
                    }
                }
            }, 5000);
        }

        // Network Graph initialization
        function initializeNetworkGraph() {
            const networkGraph = document.getElementById('networkGraph');
            
            // Create nodes
            const nodes = [
                { id: 'core', x: 50, y: 50, type: 'core' },
                { id: 'major1', x: 20, y: 20, type: 'major' },
                { id: 'major2', x: 80, y: 20, type: 'major' },
                { id: 'major3', x: 20, y: 80, type: 'major' },
                { id: 'major4', x: 80, y: 80, type: 'major' }
            ];
            
            // Create connections
            const connections = [
                { from: 'core', to: 'major1' },
                { from: 'core', to: 'major2' },
                { from: 'core', to: 'major3' },
                { from: 'core', to: 'major4' },
                { from: 'major1', to: 'major2' },
                { from: 'major3', to: 'major4' }
            ];
            
            // Render nodes
            nodes.forEach(node => {
                const nodeEl = document.createElement('div');
                nodeEl.className = `node ${node.type}`;
                nodeEl.style.left = `${node.x}%`;
                nodeEl.style.top = `${node.y}%`;
                networkGraph.appendChild(nodeEl);
            });
            
            // Render connections
            connections.forEach(conn => {
                const fromNode = nodes.find(n => n.id === conn.from);
                const toNode = nodes.find(n => n.id === conn.to);
                
                if (fromNode && toNode) {
                    const connectionEl = document.createElement('div');
                    connectionEl.className = 'connection';
                    
                    const dx = toNode.x - fromNode.x;
                    const dy = toNode.y - fromNode.y;
                    const length = Math.sqrt(dx * dx + dy * dy);
                    const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                    
                    connectionEl.style.width = `${length}%`;
                    connectionEl.style.left = `${fromNode.x}%`;
                    connectionEl.style.top = `${fromNode.y}%`;
                    connectionEl.style.transform = `rotate(${angle}deg)`;
                    
                    networkGraph.appendChild(connectionEl);
                }
            });
            
            // Initialize campaign chart
            const campaignCtx = document.getElementById('campaignChart').getContext('2d');
            const campaignChart = new Chart(campaignCtx, {
                type: 'bar',
                data: {
                    labels: ['Campaign A', 'Campaign B', 'Campaign C', 'Campaign D'],
                    datasets: [{
                        label: 'Content Volume',
                        data: [120, 190, 80, 150],
                        backgroundColor: 'rgba(54, 162, 235, 0.7)'
                    }, {
                        label: 'Attribution Confidence',
                        data: [85, 72, 90, 78],
                        backgroundColor: 'rgba(255, 99, 132, 0.7)',
                        type: 'line',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 200
                        }
                    }
                }
            });
        }

        // Heatmap initialization
        function initializeHeatmap() {
            const heatmapContainer = document.getElementById('heatmapContainer');
            
            // Generate heatmap data (7 days, 24 hours)
            for (let day = 0; day < 7; day++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'heatmap-day';
                
                for (let hour = 0; hour < 24; hour++) {
                    const hourDiv = document.createElement('div');
                    // Random activity level for demo
                    const activityLevel = Math.floor(Math.random() * 5);
                    hourDiv.className = `heatmap-hour heatmap-${activityLevel}`;
                    dayDiv.appendChild(hourDiv);
                }
                
                heatmapContainer.appendChild(dayDiv);
            }
        }

        // Content Detection initialization
        function initializeContentDetection() {
            const contentInput = document.getElementById('contentInput');
            const analyzeButton = document.getElementById('analyzeContent');
            const clearButton = document.getElementById('clearContent');
            const typingIndicator = document.getElementById('typingIndicator');
            
            let typingTimer;
            
            // Real-time analysis on typing
            contentInput.addEventListener('input', function() {
                clearTimeout(typingTimer);
                
                if (contentInput.value.length > 50) {
                    typingIndicator.style.display = 'block';
                    
                    typingTimer = setTimeout(() => {
                        analyzeContent();
                        typingIndicator.style.display = 'none';
                    }, 1500);
                } else {
                    typingIndicator.style.display = 'none';
                    resetResults();
                }
            });
            
            // Manual analysis button
            analyzeButton.addEventListener('click', function() {
                if (contentInput.value.length < 50) {
                    alert('Please enter at least 50 characters for accurate analysis.');
                    return;
                }
                
                typingIndicator.style.display = 'block';
                
                setTimeout(() => {
                    analyzeContent();
                    typingIndicator.style.display = 'none';
                }, 1000);
            });
            
            // Clear button
            clearButton.addEventListener('click', function() {
                contentInput.value = '';
                resetResults();
            });
            
            // Initialize metrics chart
            const metricsCtx = document.getElementById('metricsChart').getContext('2d');
            const metricsChart = new Chart(metricsCtx, {
                type: 'radar',
                data: {
                    labels: ['Accuracy', 'Precision', 'Recall', 'F1-Score', 'Specificity'],
                    datasets: [{
                        label: 'Detection Performance',
                        data: [94.2, 92.7, 95.1, 93.9, 98.8],
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        pointBackgroundColor: 'rgba(54, 162, 235, 1)'
                    }]
                },
                options: {
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }
        
        // Analyze content function
        function analyzeContent() {
            const content = document.getElementById('contentInput').value;
            
            // Simulate analysis results
            const aiProbability = Math.min(95, Math.max(5, Math.floor(Math.random() * 90)));
            const humanProbability = 100 - aiProbability;
            
            // Update detection results
            const detectionResults = document.getElementById('detectionResults');
            
            let resultClass = 'human-detected';
            let resultText = 'Human Written';
            let resultIcon = 'fas fa-user-check text-success';
            
            if (aiProbability > 70) {
                resultClass = 'ai-detected';
                resultText = 'AI Generated';
                resultIcon = 'fas fa-robot text-danger';
            } else if (aiProbability > 30) {
                resultClass = 'mixed-detected';
                resultText = 'Mixed Content';
                resultIcon = 'fas fa-blend text-warning';
            }
            
            detectionResults.innerHTML = `
                <div class="detection-result ${resultClass}">
                    <div class="d-flex align-items-center">
                        <i class="${resultIcon} fa-2x me-3"></i>
                        <div>
                            <h4 class="mb-1">${resultText}</h4>
                            <p class="mb-0">This content shows characteristics of ${aiProbability > 70 ? 'AI-generated' : aiProbability > 30 ? 'mixed human and AI' : 'human-written'} text.</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Update confidence meter
            const confidenceFill = document.getElementById('confidenceFill');
            const confidencePercent = document.getElementById('confidencePercent');
            
            confidenceFill.style.width = `${humanProbability}%`;
            confidencePercent.textContent = `${humanProbability}%`;
            
            // Update confidence meter color
            if (humanProbability > 70) {
                confidenceFill.className = 'confidence-fill bg-success';
            } else if (humanProbability > 30) {
                confidenceFill.className = 'confidence-fill bg-warning';
            } else {
                confidenceFill.className = 'confidence-fill bg-danger';
            }
            
            // Update model probabilities
            const modelProbabilities = document.getElementById('modelProbabilities');
            
            const models = [
                { name: 'GPT-4', probability: Math.floor(Math.random() * 40) + (aiProbability > 70 ? 40 : 10) },
                { name: 'Claude', probability: Math.floor(Math.random() * 30) + (aiProbability > 70 ? 20 : 5) },
                { name: 'Gemini', probability: Math.floor(Math.random() * 20) + (aiProbability > 70 ? 15 : 5) },
                { name: 'LLaMA', probability: Math.floor(Math.random() * 15) + (aiProbability > 70 ? 10 : 2) },
                { name: 'Human', probability: humanProbability }
            ];
            
            // Normalize probabilities to sum to 100
            const total = models.reduce((sum, model) => sum + model.probability, 0);
            models.forEach(model => {
                model.probability = Math.round((model.probability / total) * 100);
            });
            
            // Ensure the sum is 100
            const diff = 100 - models.reduce((sum, model) => sum + model.probability, 0);
            if (diff !== 0) {
                models[0].probability += diff;
            }
            
            let modelHTML = '';
            models.forEach(model => {
                let barColor = 'bg-primary';
                if (model.name === 'Human') barColor = 'bg-success';
                if (model.name === 'GPT-4') barColor = 'bg-danger';
                
                modelHTML += `
                    <div class="model-probability">
                        <div class="model-name">${model.name}</div>
                        <div class="model-bar">
                            <div class="model-fill ${barColor}" style="width: ${model.probability}%"></div>
                        </div>
                        <div class="model-percent">${model.probability}%</div>
                    </div>
                `;
            });
            
            modelProbabilities.innerHTML = modelHTML;
            
            // Update feature analysis
            const featureAnalysis = document.getElementById('featureAnalysis');
            
            const features = [
                { name: 'Perplexity', value: Math.floor(Math.random() * 40) + (aiProbability > 70 ? 20 : 60) },
                { name: 'Burstiness', value: Math.floor(Math.random() * 40) + (aiProbability > 70 ? 30 : 50) },
                { name: 'Repetition', value: Math.floor(Math.random() * 30) + (aiProbability > 70 ? 40 : 10) },
                { name: 'Coherence', value: Math.floor(Math.random() * 40) + (aiProbability > 70 ? 50 : 70) },
                { name: 'Syntax Complexity', value: Math.floor(Math.random() * 40) + (aiProbability > 70 ? 30 : 60) }
            ];
            
            let featureHTML = '';
            features.forEach(feature => {
                let barColor = 'bg-primary';
                if (feature.name === 'Perplexity' && feature.value < 40) barColor = 'bg-danger';
                if (feature.name === 'Burstiness' && feature.value < 40) barColor = 'bg-warning';
                
                featureHTML += `
                    <div class="feature-indicator">
                        <div class="feature-label">${feature.name}</div>
                        <div class="feature-bar">
                            <div class="feature-fill ${barColor}" style="width: ${feature.value}%"></div>
                        </div>
                        <div class="feature-value">${feature.value}%</div>
                    </div>
                `;
            });
            
            featureAnalysis.innerHTML = featureHTML;
            
            // Update detailed analysis
            const detailedAnalysis = document.getElementById('detailedAnalysis');
            
            detailedAnalysis.innerHTML = `
                <div class="detailed-analysis-container">
                    <div class="analysis-section">
                        <h6>Linguistic Patterns</h6>
                        <div class="feature-item">
                            <strong>Sentence Structure:</strong> ${aiProbability > 70 ? 'Highly uniform with limited variation' : aiProbability > 30 ? 'Moderate variation with some patterns' : 'Natural variation typical of human writing'}
                        </div>
                        <div class="feature-item">
                            <strong>Vocabulary Diversity:</strong> ${aiProbability > 70 ? 'Limited with repetitive phrasing' : aiProbability > 30 ? 'Moderate with some repetition' : 'Rich and varied vocabulary'}
                        </div>
                        <div class="feature-item">
                            <strong>Semantic Coherence:</strong> ${aiProbability > 70 ? 'High but sometimes superficial' : aiProbability > 30 ? 'Generally coherent with occasional inconsistencies' : 'Naturally coherent with contextual understanding'}
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h6>Statistical Features</h6>
                        <div class="feature-item">
                            <strong>Token Frequency:</strong> ${aiProbability > 70 ? 'Unusually balanced distribution' : aiProbability > 30 ? 'Moderately balanced' : 'Natural Zipfian distribution'}
                        </div>
                        <div class="feature-item">
                            <strong>N-gram Patterns:</strong> ${aiProbability > 70 ? 'Characteristic of known AI models' : aiProbability > 30 ? 'Some AI-like patterns detected' : 'Consistent with human writing patterns'}
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h6>Recommendation</h6>
                        <div class="alert ${aiProbability > 70 ? 'alert-danger' : aiProbability > 30 ? 'alert-warning' : 'alert-success'}">
                            ${aiProbability > 70 ? 'High probability of AI-generated content. Consider additional verification.' : aiProbability > 30 ? 'Mixed signals detected. Further analysis recommended.' : 'Content appears to be human-written with high confidence.'}
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Reset results function
        function resetResults() {
            document.getElementById('detectionResults').innerHTML = '<p class="text-muted">Analysis results will appear here as you type.</p>';
            document.getElementById('confidenceFill').style.width = '0%';
            document.getElementById('confidencePercent').textContent = '0%';
            document.getElementById('modelProbabilities').innerHTML = '<p class="text-muted">Model probabilities will appear here.</p>';
            document.getElementById('featureAnalysis').innerHTML = '<p class="text-muted">Feature analysis will appear here.</p>';
            document.getElementById('detailedAnalysis').innerHTML = '<p class="text-muted">Detailed forensic analysis will be displayed here.</p>';
        }

        // Global variable for update interval
        let updateInterval;
    </script>
</body>

</html>